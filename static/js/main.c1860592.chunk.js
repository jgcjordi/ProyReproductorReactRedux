(this["webpackJsonpsoundcloud-react-redux"]=this["webpackJsonpsoundcloud-react-redux"]||[]).push([[0],{18:function(e,a,t){e.exports=t.p+"static/media/discDefault.fbb3aa47.jpg"},19:function(e,a,t){e.exports=t.p+"static/media/reproductor.3c41c5a7.jpg"},22:function(e,a,t){e.exports=t(38)},27:function(e,a,t){},28:function(e,a,t){},29:function(e,a,t){},30:function(e,a,t){},31:function(e,a,t){},37:function(e,a,t){},38:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(6),l=t.n(o),c=(t(27),t(28),t(7)),i=t(8),s=t(10),u=t(9),p=t(1),y=t(11);t(29);var m=function(e){return n.a.createElement("div",{className:"CardSong",id:"".concat(e.id),title:e.src,onDragStart:e.onDragStart,draggable:!0},n.a.createElement("img",{className:"cardSongImg",id:"".concat(e.id),src:e.src,alt:"discImage"}),n.a.createElement("div",{className:"cardTitle"},e.title))};t(30);var d=function(e){return n.a.createElement("div",{className:"Player",onDrop:e.onDrop,onDragOver:e.onDragOver},n.a.createElement("img",{className:"playerImg",src:e.imagePlayer,alt:"palyerImage"}))},h=(t(31),t(5)),g=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).state={playPauseIcon:"M18 12L0 24V0",totalTime:"-:--",currentTime:"-:--",progressPrecentaje:"0%",startSong:!0,player:e.playerSC},t.onPlayPauseClick=t.onPlayPauseClick.bind(Object(p.a)(t)),t}return Object(y.a)(a,e),Object(i.a)(a,[{key:"componentDidUpdate",value:function(){return null!=this.props.playerSC&&this.state.startSong&&(this.startProgressControll(),this.onFinish(),this.setState({startSong:!1,player:this.props.playerSC})),null}},{key:"startProgressControll",value:function(){var e=this;this.props.playerSC.on("time",(function(){var a=e.formatTime(e.props.playerSC.getDuration()),t=e.formatTime(e.props.playerSC.currentTime()),r=e.songPercentaje(e.props.playerSC.getDuration(),e.props.playerSC.currentTime())+"%";e.setState({totalTime:a,currentTime:t,progressPrecentaje:r})}))}},{key:"formatTime",value:function(e){if(null!=e){var a=parseInt(e,10)/1e3,t=a/60,r=Math.floor(t),n=Math.floor(a%60);return r+":"+(n<10?"0"+n:n)}}},{key:"songPercentaje",value:function(e,a){if(null!=e&&null!=a){var t=parseInt(e,10);return parseInt(a,10)/t*100}}},{key:"onFinish",value:function(){var e=this;this.props.playerSC.on("finish",(function(){e.setState({playPauseIcon:"M18 12L0 24V0"})}))}},{key:"onPlayPauseClick",value:function(){null!=this.props.playerSC&&(this.props.playerSC.isPlaying()?(this.props.playerSC.pause(),this.setState({playPauseIcon:"M18 12L0 24V0"})):this.props.playerSC.isPlaying()||(this.props.playerSC.play(),this.setState({playPauseIcon:"M0 0h6v24H0zM12 0h6v24h-6z"})))}},{key:"render",value:function(){return n.a.createElement("div",{className:"audio green-audio-player"},n.a.createElement("div",{className:"play-pause-btn",onClick:this.onPlayPauseClick},n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"24",viewBox:"0 0 18 24"},n.a.createElement("path",{className:"play-pause-icon",id:"playPause",fill:"#566574",fillRule:"evenodd",d:this.state.playPauseIcon}))),n.a.createElement("div",{className:"controls"},n.a.createElement("span",{className:"current-time"},this.state.currentTime),n.a.createElement("div",{className:"slider","data-direction":"horizontal"},n.a.createElement("div",{className:"progress",style:{width:"".concat(this.state.progressPrecentaje)}},n.a.createElement("div",{className:"pin",id:"progress-pin","data-method":"rewind"}))),n.a.createElement("span",{className:"total-time"},this.state.totalTime)))}}],[{key:"getDerivedStateFromProps",value:function(e,a){return e.playerSC!==a.player&&(console.log("Eureca"),a.startSong=!0,a.playPauseIcon="M0 0h6v24H0zM12 0h6v24h-6z"),null}}]),a}(r.Component),f=Object(h.b)((function(e){return{playerSC:e.mediaPlayer.playerSC}}))(g),v=t(12),S=t.n(v),P=t(18),E=t.n(P),b=t(19),C=t.n(b),O=(t(37),function(e){function a(e){var t;return Object(c.a)(this,a),t=Object(s.a)(this,Object(u.a)(a).call(this,e)),S.a.initialize({client_id:"aa06b0630e34d6055f9c6f8beb8e02eb"}),t.handleKeyDown=t.handleKeyDown.bind(Object(p.a)(t)),t.onSearcherTextChanged=t.onSearcherTextChanged.bind(Object(p.a)(t)),t.onDragOverAtPlayer=t.onDragOverAtPlayer.bind(Object(p.a)(t)),t.onDropAtPlayer=t.onDropAtPlayer.bind(Object(p.a)(t)),t}return Object(y.a)(a,e),Object(i.a)(a,[{key:"onBtnSearchClicked",value:function(){this.getArraySongs()}},{key:"handleKeyDown",value:function(e){"Enter"===e.key&&this.getArraySongs()}},{key:"onSearcherTextChanged",value:function(e){this.props.newSearchText(e.target.value)}},{key:"onDragStart",value:function(e){e.dataTransfer.setData("idSong",e.target.id),e.dataTransfer.setData("srcSong",e.target.title)}},{key:"onDragOverAtPlayer",value:function(e){e.preventDefault()}},{key:"onDropAtPlayer",value:function(e){var a=this;e.preventDefault();var t=e.dataTransfer.getData("idSong"),r=e.dataTransfer.getData("srcSong");S.a.stream("/tracks/"+t).then((function(e){e.play(),a.props.newPlayerSC(e)})),this.props.newImagePlayer(r)}},{key:"getArraySongs",value:function(){var e=this;S.a.get("/tracks",{q:this.props.searchText}).then((function(a){e.props.newArraySongs(a),e.props.newSearchText("")}))}},{key:"ifNullImageDisc",value:function(e){return null!=e.artwork_url?e.artwork_url:E.a}},{key:"ifEmptyImagePlayer",value:function(){var e=this.props.imagePlayer;return""===e&&(e=C.a),e}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"searcherAndMedia"},n.a.createElement("div",{className:"media"},n.a.createElement("div",{className:"playerWithBar"},n.a.createElement("div",{className:"searcher"},n.a.createElement("button",{className:"searchButton",onClick:function(){return e.onBtnSearchClicked()}},"Buscar"),n.a.createElement("input",{className:"seacherTextImput",type:"text",placeholder:"Busca la cancion...",onChange:function(a){return e.onSearcherTextChanged(a)},onKeyDown:this.handleKeyDown,value:this.props.searchText})),n.a.createElement(d,{onDragOver:function(a){return e.onDragOverAtPlayer(a)},onDrop:function(a){return e.onDropAtPlayer(a)},imagePlayer:this.ifEmptyImagePlayer()}),n.a.createElement(f,null)),n.a.createElement("div",{className:"cardsSong"},this.props.arraySongs.map((function(a){return n.a.createElement(m,{key:a.id,id:a.id,title:a.title,src:e.ifNullImageDisc(a),onDragStart:e.onDragStart})})))))}}]),a}(r.Component)),D=Object(h.b)((function(e){return{searchText:e.mediaPlayer.searchText,imagePlayer:e.mediaPlayer.imagePlayer,arraySongs:e.mediaPlayer.arraySongs,playerSC:e.mediaPlayer.playerSC}}),(function(e){return{newSearchText:function(a){return e(function(e){return{type:"NEW_SEARCH_TEXT",payload:{searchText:e}}}(a))},newImagePlayer:function(a){return e(function(e){return{type:"NEW_IMAGE_PLAYER",payload:{imagePlayer:e}}}(a))},newArraySongs:function(a){return e(function(e){return{type:"NEW_ARRAY_SONGS",payload:{arraySongs:e}}}(a))},newPlayerSC:function(a){return e(function(e,a){return{type:"NEW_PLAYER_SC",payload:{playerSC:e}}}(a))}}}))(O);var w=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("h1",null,"Reproductor con React y Redux con API SoundCloud"),n.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=t(3),k=t(20),T=t(21);function N(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function A(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?N(t,!0).forEach((function(a){Object(T.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var x={searchText:"",arraySongs:[],imagePlayer:"",playerSC:null},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"NEW_SEARCH_TEXT":return A({},e,{searchText:a.payload.searchText});case"NEW_IMAGE_PLAYER":return A({},e,{imagePlayer:a.payload.imagePlayer});case"NEW_ARRAY_SONGS":return A({},e,{arraySongs:a.payload.arraySongs});case"NEW_PLAYER_SC":return A({},e,{playerSC:a.payload.playerSC});default:return e}},_=Object(j.c)({mediaPlayer:I}),R=Object(j.d)(_,Object(j.a)(k.a));l.a.render(n.a.createElement(h.a,{store:R},n.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[22,1,2]]]);
//# sourceMappingURL=main.c1860592.chunk.js.map